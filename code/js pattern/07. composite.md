
 ##  组合模式：  

 **核心**：  
  组合模式就是用小的对象来构建更大的对象。  
  组合模式的关键在于： 父对象和子对象拥有相同的接口。

  宏命令： 并不执行真正的操作，而是遍历所包含的叶对象，把真正的execute请求委托给这些叶对象。有些像代理，但是只是结构上相似，并非真正的代理，宏命令只负责传递请求给叶对象，目的不在于控制对叶对象的访问。  
  组合模式的一个很大的好处是，使得用户对单个对象和组合对象的使用具有一致性。

 **适用情景**：  
 表示对象的部分-整体层次结构。 组合模式可以很方便地构造一棵树来表示对象的部分-整体结构，在树的结构最终完成之后，只需要通过请求树的最顶层对象，便能对整棵树做统一的操作。  
 客户希望统一对待树中的所有对象。

**实现**  
在java这类静态类型语言中，通过让根对象和叶对象继承自同一个抽象父类来达成拥有相同的接口来实现；  
对于javascript这类动态类型语言，自带具有多态性，也没有编译器检查变量类型，所以只要定义相同的方法就可以实现。

**应用**   
组合模式是一种HAS-A  的聚合关系，不是 IS-A 。   
组合对象保存了它下面子节点的引用，这使得从上到下成为可能，也是组合模式的特点。有时候还需要在子节点中保存对父节点的引用，这样才可以使得从下到上成为可能。


**Demo**  
这种模式非常适用于文件夹-文件的层次表示。  

JS中有三种定义 object的方式：

a. 直接定义

结构清晰，但是不能传递参数
~~~
var obj = {
  prop1: xx,
  prop2: function(){}
};
~~~

b. JS方式

典型的javascript方式，也即通过一个函数返回对象，可以传递参数。
~~~
var Obj = function(para){
    return {
       prop1: para,
       prop1: function(){}
    }
    
};

var obj = Obj(para);
~~~

c. 经典方式

传统构造函数的方式，这种方式也可以传递参数，属性和方法通过两种途径进行定义。
~~~
var Obj = function(para){
   this.prop = para;
   xxx
}
Obj.prototype.method1 = function(para){
   xxx
}

var obj = new Obj(para);
~~~
